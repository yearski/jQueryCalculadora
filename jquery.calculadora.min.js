!function(e){var a={decimals:2,useCommaAsDecimalMark:!1,parent_element:e("body")};e.fn.extend({calculadora:function(t){(t=e.extend({},a,t)).numberFormat||(t.numberFormat=t.useCommaAsDecimalMark?new Intl.NumberFormat("FR",{maximumFractionDigits:t.decimals}):new Intl.NumberFormat("US",{maximumFractionDigits:t.decimals}));var n={};n.radix=t.numberFormat.format(.1).slice(1,2),n.re=new RegExp(`[^-0-9${n.radix}]`,"g");var r=e('<div id="calculadora" style="display: none; position: absolute"><ul></ul></div>'),l=r.find("ul");return e(t.parent_element).append(r),this.each(function(){var a=e(this),t=null,n=0,i=!1;function u(e){switch(t){case null:n=e;break;case"+":n+=e;break;case"-":n-=e;break;case"*":n*=e;break;case"/":n=0!==e?n/e:0}}function o(e,t,n){var s=a.offset();!i&&s&&(r.css("top",s.top-15+"px"),r.css("left",s.left+"px"),r.css("min-width",a.width()+"px"),r.show(),i=!0),l.append("<li class='"+n+"'><div class='op'>"+t+"</div><div class='num'>"+e+"</div></li>"),r.css("top",s.top-r.height()+"px")}a.blur(function(e){t=null,l.html(""),r.hide(),i=!1;var n=s(a.val());a.val(c(n))}),a.keydown(function(e){var r=s(a.val());switch(e.key){case"+":case"-":case"*":case"/":e.preventDefault(),u(r),o(c(r),e.key),t=e.key,a.val("");break;case"Enter":case"=":e.preventDefault();case"Tab":u(r),o(c(r),"="),o(c(n)," ","tot"),a.val(c(n)),t=null,a.change();break;case"k":e.preventDefault(),a.val(1e3*r);break;case"M":e.preventDefault(),a.val(1e6*r);break;case"m":e.preventDefault(),0!==r&&a.val(r/1e3)}})});function s(e){return e?(e=e.replace(n.re,"").replace(n.radix,"."),parseFloat(e)):0}function c(e){return t.numberFormat.format(e)}}})}(jQuery);
//@ sourceMappingURL=jquery.calculadora.min.js.map